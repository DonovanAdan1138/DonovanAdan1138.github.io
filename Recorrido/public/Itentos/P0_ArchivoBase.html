<!DOCTYPE html> 
<html lang="en"> 
<head> 
<meta charset="UTF-8" /> 
     <title>Archivo base</title>
     <style>
     </style>
</head>
<body>
<canvas id="myCanvas">
    <!--El elemento HTML canvas se puede utilizar para dibujar gráficos a través de 
        secuencias de comandos (por lo general JavaScript ).-->
</canvas>
<script type="importmap"> 
    {
        "imports":{
            "three": "./js/three.module.js",
            "three/OrbitControls": "./js/OrbitControls.js" 
        }
}
</script>
<script type="module"> 
    //👉🏽 Mandar llamar a la librería
    import * as THREE from 'three'; 
    import {OrbitControls} from 'three/OrbitControls';
    import {RoundedBoxGeometry} from './js/RoundedBoxGeometry.js';

    console.log(OrbitControls);

    //👉🏽 Renderer - Realiza una conexión entre el código y el canvas
    var renderer = new THREE.WebGLRenderer({canvas: document.getElementById('myCanvas'),antialias: true});
    renderer.setPixelRatio(window.decivePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x000000);

    //🎬 Creando nueva escena 
    var scene = new THREE.Scene();

    //🎥 Agregar una cámara de perspectiva
    var camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 5000);
    scene.add(camera);

    //👉🏽Settings de la cámara
    camera.position.set(0, 4, 25);

    //👉🏽Añadiendo los OrbitControls
    var controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;

    //✏️GridHelper
    const gridHelper = new THREE.GridHelper(50,10);
    scene.add (gridHelper);

    //✏️Ejes
    const axesHelper = new THREE.AxesHelper(50);
    scene.add (axesHelper);
  

    // 🪄🪄 SECCIÓN DE CÓDIGO 🪄🪄
    
    /// base

    var geometry01=new THREE.BoxGeometry(50,0,50,1);
    var material01=new THREE.MeshBasicMaterial({color:0xff00fb});
    var mesh01=new THREE.Mesh(geometry01,material01);
    var mesh01=new THREE.Mesh(geometry01,material01);
    scene.add(mesh01);
    mesh01.position.set(0,0,0);

    //flor1
    var geometry01=new RoundedBoxGeometry(2,6,2,10,0.5);
    var material02=new THREE.MeshLambertMaterial({color:0xfffb00, wireframe:true});
    var mesh02=new THREE.Mesh(geometry01,material02);
    scene.add(mesh02);
    mesh02.position.set(0,5,0);

    var geometry01=new RoundedBoxGeometry(2,6,2,10,0.5);
    var material03=new THREE.MeshLambertMaterial({color:0xff0000, wireframe:true});
    var mesh03=new THREE.Mesh(geometry01,material03);
    scene.add(mesh03);
    mesh03.position.set(0,5,0);
    mesh03.rotation.set(0,0,1.57);

    var geometry01=new RoundedBoxGeometry(2,6,2,10,0.5);
    var material04=new THREE.MeshLambertMaterial({color:0xfffb00, wireframe:true});
    var mesh04=new THREE.Mesh(geometry01,material04);
    scene.add(mesh04);
    mesh04.position.set(0,5,0);
    mesh04.rotation.set(0,0,0.785);

    var geometry01=new RoundedBoxGeometry(2,6,2,10,0.5);
    var material05=new THREE.MeshLambertMaterial({color:0xfffb00, wireframe:true});
    var mesh05=new THREE.Mesh(geometry01,material05);
    scene.add(mesh05);
    mesh05.position.set(0,5,0);
    mesh05.rotation.set(0,0,-0.785);
 var flor1=new THREE.Group();
flor1.add(mesh02,mesh03,mesh04,mesh05);
scene.add(flor1);

//flor2 
var flor2=flor1.clone();
scene.add(flor2);
flor2.position.set(15,0,0);

//flor3
var flor3=flor1.clone();
scene.add(flor3);
flor3.position.set(-15,0,0);

//luces
var light01= new THREE.PointLight(0x7800ff,4,20,0.5);
light01.position.set(0,10,0);
scene.add(light01);
var helper01= new THREE.PointLight(light01);
scene.add(helper01);

var light02= new THREE.PointLight(0xffffff,4,20,0.5);
light02.position.set(15,10,0);
scene.add(light02);
var helper02= new THREE.PointLight(light02);
scene.add(helper02);

var light03= new THREE.SpotLight(0x27c3c8,1,20,0.36,0.5,0);
light03.position.set(-15,10,0);
scene.add(light03);
var helper03= new THREE.SpotLight(light03);
scene.add(helper03);
var light04= new THREE.SpotLight(0x27c3c8,1,20,0.36,0.5,0);
light04.position.set(15,10,0);
scene.add(light04);
var helper03= new THREE.SpotLight(light03);





      //🎰🎰Rendering y animación
      requestAnimationFrame(render);
      function render() {



    
      controls.update();


      //Llamado para renderizar y volver a llamar a la misma función (render)
      renderer.render(scene, camera);
      requestAnimationFrame(render);
      }
</script>
</body>
</html>